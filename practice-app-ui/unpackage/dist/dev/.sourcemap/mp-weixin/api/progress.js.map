{"version":3,"file":"progress.js","sources":["api/progress.js"],"sourcesContent":["import { request } from './http';\n\nexport const emptyProgress = () => ({\n  totalQuestions: 0,\n  answeredQuestions: 0,\n  correctRate: 0,\n  correctCount: 0,\n  categories: [],\n  percent: 0,\n});\n\nexport async function fetchProgressSummary() {\n  const list = await request({ url: '/progress', method: 'GET' });\n  if (!Array.isArray(list)) {\n    return emptyProgress();\n  }\n  const totalQuestions = list.reduce((sum, item) => sum + (item.totalQuestions || 0), 0);\n  const answeredQuestions = list.reduce((sum, item) => sum + (item.completedQuestions || 0), 0);\n  const correctCount = list.reduce((sum, item) => sum + (item.correctCount || 0), 0);\n  const categories = list.map((item) => ({\n    id: item.categoryId,\n    name: item.categoryName,\n    total: item.totalQuestions || 0,\n    answered: item.completedQuestions || 0,\n    correct: item.correctCount || 0,\n    correctRate: item.completedQuestions ? Math.round((item.accuracy || 0) * 100) : 0,\n  }));\n  const percent = totalQuestions ? Math.round((answeredQuestions / totalQuestions) * 100) : 0;\n  const correctRate = answeredQuestions ? Math.round((correctCount / answeredQuestions) * 100) : 0;\n  return {\n    totalQuestions,\n    answeredQuestions,\n    correctRate,\n    correctCount,\n    categories,\n    percent,\n  };\n}\n\n"],"names":["request"],"mappings":";;AAEY,MAAC,gBAAgB,OAAO;AAAA,EAClC,gBAAgB;AAAA,EAChB,mBAAmB;AAAA,EACnB,aAAa;AAAA,EACb,cAAc;AAAA,EACd,YAAY,CAAE;AAAA,EACd,SAAS;AACX;AAEO,eAAe,uBAAuB;AAC3C,QAAM,OAAO,MAAMA,SAAAA,QAAQ,EAAE,KAAK,aAAa,QAAQ,MAAK,CAAE;AAC9D,MAAI,CAAC,MAAM,QAAQ,IAAI,GAAG;AACxB,WAAO,cAAa;AAAA,EACrB;AACD,QAAM,iBAAiB,KAAK,OAAO,CAAC,KAAK,SAAS,OAAO,KAAK,kBAAkB,IAAI,CAAC;AACrF,QAAM,oBAAoB,KAAK,OAAO,CAAC,KAAK,SAAS,OAAO,KAAK,sBAAsB,IAAI,CAAC;AAC5F,QAAM,eAAe,KAAK,OAAO,CAAC,KAAK,SAAS,OAAO,KAAK,gBAAgB,IAAI,CAAC;AACjF,QAAM,aAAa,KAAK,IAAI,CAAC,UAAU;AAAA,IACrC,IAAI,KAAK;AAAA,IACT,MAAM,KAAK;AAAA,IACX,OAAO,KAAK,kBAAkB;AAAA,IAC9B,UAAU,KAAK,sBAAsB;AAAA,IACrC,SAAS,KAAK,gBAAgB;AAAA,IAC9B,aAAa,KAAK,qBAAqB,KAAK,OAAO,KAAK,YAAY,KAAK,GAAG,IAAI;AAAA,EACjF,EAAC;AACF,QAAM,UAAU,iBAAiB,KAAK,MAAO,oBAAoB,iBAAkB,GAAG,IAAI;AAC1F,QAAM,cAAc,oBAAoB,KAAK,MAAO,eAAe,oBAAqB,GAAG,IAAI;AAC/F,SAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AACA;;;"}