{"version":3,"file":"favorites.js","sources":["api/favorites.js"],"sourcesContent":["import { request } from './http';\n\nexport function addFavorite(questionId) {\n  if (!questionId) {\n    return Promise.reject(new Error('缺少题目 ID'));\n  }\n  return request({ url: `/user-favorites/${questionId}`, method: 'POST' });\n}\n\nexport function removeFavorite(questionId) {\n  if (!questionId) {\n    return Promise.reject(new Error('缺少题目 ID'));\n  }\n  return request({ url: `/user-favorites/${questionId}`, method: 'DELETE' });\n}\n\nexport async function fetchFavorites({ page = 1, size = 10 } = {}) {\n  const res = await request({\n    url: '/user-favorites',\n    method: 'GET',\n    data: { page, size },\n  });\n  const records = Array.isArray(res?.records)\n    ? res.records.map((item) => ({\n        id: item.id,\n        questionId: item.questionId,\n        questionTitle: item.questionTitle,\n        difficulty: item.difficulty,\n        categoryId: item.categoryId,\n        categoryName: item.categoryName,\n        createdAt: item.createdAt,\n      }))\n    : [];\n  return {\n    page: res?.page || page,\n    size: res?.size || size,\n    total: res?.total || records.length,\n    records,\n  };\n}\n"],"names":["request"],"mappings":";;AAEO,SAAS,YAAY,YAAY;AACtC,MAAI,CAAC,YAAY;AACf,WAAO,QAAQ,OAAO,IAAI,MAAM,SAAS,CAAC;AAAA,EAC3C;AACD,SAAOA,SAAO,QAAC,EAAE,KAAK,mBAAmB,UAAU,IAAI,QAAQ,OAAM,CAAE;AACzE;AAEO,SAAS,eAAe,YAAY;AACzC,MAAI,CAAC,YAAY;AACf,WAAO,QAAQ,OAAO,IAAI,MAAM,SAAS,CAAC;AAAA,EAC3C;AACD,SAAOA,SAAO,QAAC,EAAE,KAAK,mBAAmB,UAAU,IAAI,QAAQ,SAAQ,CAAE;AAC3E;AAEO,eAAe,eAAe,EAAE,OAAO,GAAG,OAAO,GAAI,IAAG,IAAI;AACjE,QAAM,MAAM,MAAMA,iBAAQ;AAAA,IACxB,KAAK;AAAA,IACL,QAAQ;AAAA,IACR,MAAM,EAAE,MAAM,KAAM;AAAA,EACxB,CAAG;AACD,QAAM,UAAU,MAAM,QAAQ,2BAAK,OAAO,IACtC,IAAI,QAAQ,IAAI,CAAC,UAAU;AAAA,IACzB,IAAI,KAAK;AAAA,IACT,YAAY,KAAK;AAAA,IACjB,eAAe,KAAK;AAAA,IACpB,YAAY,KAAK;AAAA,IACjB,YAAY,KAAK;AAAA,IACjB,cAAc,KAAK;AAAA,IACnB,WAAW,KAAK;AAAA,EACxB,EAAQ,IACF;AACJ,SAAO;AAAA,IACL,OAAM,2BAAK,SAAQ;AAAA,IACnB,OAAM,2BAAK,SAAQ;AAAA,IACnB,QAAO,2BAAK,UAAS,QAAQ;AAAA,IAC7B;AAAA,EACJ;AACA;;;;"}