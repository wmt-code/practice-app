{"version":3,"file":"index.js","sources":["pages/questions/index.vue","D:/HBuilderX.4.85.2025110510/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvcXVlc3Rpb25zL2luZGV4LnZ1ZQ"],"sourcesContent":["<template>\n  <view class=\"page\">\n    <view class=\"header\">\n      <view class=\"title-wrap\">\n        <text class=\"title\">题库</text>\n        <text class=\"subtitle\">按分类浏览，快速进入练习</text>\n      </view>\n      <uni-easyinput\n        v-model=\"keyword\"\n        placeholder=\"搜索想练习的考试或子分类\"\n        prefixIcon=\"search\"\n        clearable\n        @confirm=\"handleSearch\"\n        @clear=\"clearSearch\"\n      />\n    </view>\n\n    <view class=\"layout\">\n      <scroll-view scroll-y class=\"side\" show-scrollbar=\"false\">\n        <view\n          v-for=\"parent in categoryTree\"\n          :key=\"parent.id\"\n          class=\"side-item\"\n          :class=\"{ active: parent.id === selectedParent }\"\n          @tap=\"switchParent(parent.id)\"\n        >\n          <text class=\"side-text\">{{ parent.name }}</text>\n        </view>\n      </scroll-view>\n\n      <scroll-view scroll-y class=\"content\" show-scrollbar=\"false\">\n        <view v-if=\"filteredChildren.length\" class=\"card-list\">\n          <view\n            v-for=\"item in filteredChildren\"\n            :key=\"item.id\"\n            class=\"sub-card\"\n            @tap=\"goCategory(item)\"\n          >\n            <view class=\"card-header\">\n              <view class=\"name\">\n                <text class=\"sub-name\">{{ item.name }}</text>\n                <uni-tag v-if=\"item.badge\" :text=\"item.badge\" type=\"warning\" size=\"mini\" />\n              </view>\n              <uni-icons type=\"arrowright\" color=\"#9ca3af\" size=\"20\" />\n            </view>\n            <view class=\"desc\">{{ item.description || '点击进入详情与练习' }}</view>\n            <view class=\"meta-row\">\n              <text class=\"muted\">题量 {{ item.questionCount || 0 }}</text>\n              <text class=\"muted\">最近更新 {{ item.updatedAt || '--' }}</text>\n            </view>\n          </view>\n        </view>\n        <view v-else class=\"empty\">\n          <text class=\"muted\">没有匹配的分类，换个关键词试试</text>\n        </view>\n      </scroll-view>\n    </view>\n  </view>\n</template>\n\n<script setup>\nimport { computed, ref } from 'vue';\nimport { onPullDownRefresh, onShow } from '@dcloudio/uni-app';\nimport { fetchCategoryTree } from '@/api/mock.js';\n\nconst categoryTree = ref([]);\nconst selectedParent = ref('');\nconst keyword = ref('');\n\nconst childrenOfParent = computed(() => {\n  const parent = categoryTree.value.find((p) => p.id === selectedParent.value);\n  return parent ? parent.children : [];\n});\n\nconst filteredChildren = computed(() => {\n  const kw = keyword.value.trim().toLowerCase();\n  if (!kw) return childrenOfParent.value;\n  return childrenOfParent.value.filter(\n    (item) =>\n      item.name.toLowerCase().includes(kw) ||\n      (item.description || '').toLowerCase().includes(kw),\n  );\n});\n\nconst loadCategories = async () => {\n  const list = await fetchCategoryTree();\n  categoryTree.value = list;\n  if (!selectedParent.value && list.length) {\n    selectedParent.value = list[0].id;\n  }\n};\n\nconst switchParent = (id) => {\n  selectedParent.value = id;\n};\n\nconst handleSearch = () => {\n  // computed handles filtering\n};\n\nconst clearSearch = () => {\n  keyword.value = '';\n};\n\nconst goCategory = (item) => {\n  uni.navigateTo({\n    url: `/pages/questions/category?categoryId=${item.id}`,\n  });\n};\n\nonShow(() => {\n  loadCategories();\n});\n\nonPullDownRefresh(async () => {\n  await loadCategories();\n  uni.stopPullDownRefresh();\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.page {\n  padding: 16rpx 16rpx 0;\n  min-height: 100vh;\n}\n\n.header {\n  padding: 16rpx;\n  background: #ffffff;\n  border-radius: 18rpx;\n  box-shadow: 0 10rpx 30rpx rgba(31, 56, 88, 0.06);\n}\n\n.title-wrap {\n  margin-bottom: 12rpx;\n}\n\n.title {\n  font-size: 34rpx;\n  font-weight: 700;\n  color: #111827;\n}\n\n.subtitle {\n  display: block;\n  margin-top: 6rpx;\n  color: #6b7280;\n  font-size: 24rpx;\n}\n\n.layout {\n  display: flex;\n  margin-top: 16rpx;\n  height: calc(100vh - 200rpx);\n}\n\n.side {\n  width: 210rpx;\n  background: #f5f7fb;\n  border-radius: 16rpx;\n  margin-right: 12rpx;\n  padding: 8rpx 0;\n}\n\n.side-item {\n  padding: 18rpx 20rpx;\n  color: #374151;\n  border-left: 8rpx solid transparent;\n}\n\n.side-item.active {\n  background: #e0ecff;\n  color: #1d4ed8;\n  border-color: #2563eb;\n  font-weight: 700;\n}\n\n.side-text {\n  font-size: 26rpx;\n}\n\n.content {\n  flex: 1;\n  background: #ffffff;\n  border-radius: 16rpx;\n  padding: 12rpx;\n  box-shadow: 0 12rpx 30rpx rgba(31, 56, 88, 0.05);\n}\n\n.card-list {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(300rpx, 1fr));\n  gap: 12rpx;\n}\n\n.sub-card {\n  padding: 18rpx;\n  border-radius: 14rpx;\n  background: linear-gradient(135deg, #f8fafc, #f1f5f9);\n  border: 1rpx solid #e5e7eb;\n}\n\n.card-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n\n.name {\n  display: flex;\n  align-items: center;\n  gap: 10rpx;\n}\n\n.sub-name {\n  font-size: 30rpx;\n  font-weight: 700;\n  color: #111827;\n}\n\n.desc {\n  margin: 8rpx 0 12rpx;\n  color: #4b5563;\n  font-size: 24rpx;\n  line-height: 1.5;\n}\n\n.meta-row {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  color: #6b7280;\n  font-size: 24rpx;\n}\n\n.muted {\n  color: #6b7280;\n}\n\n.empty {\n  padding: 40rpx;\n  text-align: center;\n  color: #6b7280;\n}\n</style>\n","import MiniProgramPage from 'E:/javaproject/practice-app/practice-app-ui/pages/questions/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","computed","fetchCategoryTree","uni","onShow","onPullDownRefresh"],"mappings":";;;;;;;;;;;;;;;;;;AAiEA,UAAM,eAAeA,cAAAA,IAAI,CAAA,CAAE;AAC3B,UAAM,iBAAiBA,cAAAA,IAAI,EAAE;AAC7B,UAAM,UAAUA,cAAAA,IAAI,EAAE;AAEtB,UAAM,mBAAmBC,cAAQ,SAAC,MAAM;AACtC,YAAM,SAAS,aAAa,MAAM,KAAK,CAAC,MAAM,EAAE,OAAO,eAAe,KAAK;AAC3E,aAAO,SAAS,OAAO,WAAW;IACpC,CAAC;AAED,UAAM,mBAAmBA,cAAQ,SAAC,MAAM;AACtC,YAAM,KAAK,QAAQ,MAAM,KAAM,EAAC,YAAW;AAC3C,UAAI,CAAC;AAAI,eAAO,iBAAiB;AACjC,aAAO,iBAAiB,MAAM;AAAA,QAC5B,CAAC,SACC,KAAK,KAAK,cAAc,SAAS,EAAE,MAClC,KAAK,eAAe,IAAI,YAAa,EAAC,SAAS,EAAE;AAAA,MACxD;AAAA,IACA,CAAC;AAED,UAAM,iBAAiB,YAAY;AACjC,YAAM,OAAO,MAAMC,SAAAA;AACnB,mBAAa,QAAQ;AACrB,UAAI,CAAC,eAAe,SAAS,KAAK,QAAQ;AACxC,uBAAe,QAAQ,KAAK,CAAC,EAAE;AAAA,MAChC;AAAA,IACH;AAEA,UAAM,eAAe,CAAC,OAAO;AAC3B,qBAAe,QAAQ;AAAA,IACzB;AAEA,UAAM,eAAe,MAAM;AAAA,IAE3B;AAEA,UAAM,cAAc,MAAM;AACxB,cAAQ,QAAQ;AAAA,IAClB;AAEA,UAAM,aAAa,CAAC,SAAS;AAC3BC,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK,wCAAwC,KAAK,EAAE;AAAA,MACxD,CAAG;AAAA,IACH;AAEAC,kBAAAA,OAAO,MAAM;AACX;IACF,CAAC;AAEDC,kBAAAA,kBAAkB,YAAY;AAC5B,YAAM,eAAc;AACpBF,oBAAG,MAAC,oBAAmB;AAAA,IACzB,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpHD,GAAG,WAAW,eAAe;"}