{"version":3,"file":"index.js","sources":["pages/questions/index.vue","D:/HBuilderX.4.85.2025110510/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvcXVlc3Rpb25zL2luZGV4LnZ1ZQ"],"sourcesContent":["<template>\n  <view class=\"page\">\n    <uni-search-bar\n      v-model=\"keyword\"\n      placeholder=\"搜索题目关键词\"\n      cancel-button=\"always\"\n      clear-button=\"always\"\n      @confirm=\"loadQuestions\"\n      @cancel=\"clearSearch\"\n      @clear=\"clearSearch\"\n    />\n\n    <scroll-view scroll-x class=\"category-scroll\" show-scrollbar=\"false\">\n      <view\n        v-for=\"cat in categories\"\n        :key=\"cat.id || 'all'\"\n        class=\"chip\"\n        :class=\"{ active: cat.id === selectedCategory }\"\n        @tap=\"switchCategory(cat.id)\"\n      >\n        <text>{{ cat.name }}</text>\n      </view>\n    </scroll-view>\n\n    <view class=\"list-wrapper\">\n      <uni-list>\n        <uni-list-item\n          v-for=\"item in questions\"\n          :key=\"item.id\"\n          :title=\"item.title\"\n          clickable\n          :note=\"getCategoryName(item.categoryId)\"\n          @click=\"goDetail(item.id)\"\n        >\n          <template #footer>\n            <view class=\"footer\">\n              <uni-tag :text=\"renderType(item.type)\" size=\"mini\" type=\"primary\" />\n              <text class=\"muted\">分值 {{ item.score }}</text>\n              <text class=\"muted\">预计 {{ item.duration }}s</text>\n            </view>\n          </template>\n        </uni-list-item>\n      </uni-list>\n      <view v-if=\"!questions.length\" class=\"empty\">\n        <text class=\"muted\">暂无题目，换个分类或关键词试试</text>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script setup>\nimport { ref } from 'vue';\nimport { onPullDownRefresh, onShow } from '@dcloudio/uni-app';\nimport { fetchCategories, fetchQuestions } from '@/api/mock.js';\n\nconst categories = ref([{ id: '', name: '全部' }]);\nconst selectedCategory = ref('');\nconst questions = ref([]);\nconst keyword = ref('');\n\nconst loadCategories = async () => {\n  const list = await fetchCategories();\n  categories.value = [{ id: '', name: '全部' }, ...list];\n};\n\nconst loadQuestions = async () => {\n  const list = await fetchQuestions({\n    categoryId: selectedCategory.value,\n    keyword: keyword.value,\n  });\n  questions.value = list;\n};\n\nconst switchCategory = (id) => {\n  selectedCategory.value = id;\n  loadQuestions();\n};\n\nconst clearSearch = () => {\n  keyword.value = '';\n  loadQuestions();\n};\n\nconst goDetail = (id) => {\n  uni.navigateTo({ url: `/pages/questions/detail?id=${id}` });\n};\n\nconst renderType = (type) => {\n  if (type === 'multiple') return '多选';\n  if (type === 'truefalse') return '判断';\n  return '单选';\n};\n\nconst getCategoryName = (id) => {\n  const found = categories.value.find((c) => c.id === id);\n  return found ? found.name : '未分类';\n};\n\nonShow(() => {\n  loadCategories();\n  loadQuestions();\n});\n\nonPullDownRefresh(async () => {\n  await loadCategories();\n  await loadQuestions();\n  uni.stopPullDownRefresh();\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.page {\n  padding: 20rpx;\n}\n\n.category-scroll {\n  white-space: nowrap;\n  margin: 16rpx 0;\n}\n\n.chip {\n  display: inline-flex;\n  align-items: center;\n  padding: 12rpx 28rpx;\n  margin-right: 12rpx;\n  border-radius: 40rpx;\n  background: #f3f4f6;\n  color: #374151;\n  font-size: 26rpx;\n  border: 1rpx solid transparent;\n}\n\n.chip.active {\n  background: #e0ecff;\n  color: #1d4ed8;\n  border-color: #2563eb;\n}\n\n.list-wrapper {\n  background: #fff;\n  border-radius: 16rpx;\n  overflow: hidden;\n  box-shadow: 0 12rpx 30rpx rgba(31, 56, 88, 0.06);\n}\n\n.footer {\n  display: flex;\n  align-items: center;\n  gap: 12rpx;\n}\n\n.muted {\n  color: #6b7280;\n  font-size: 24rpx;\n}\n\n.empty {\n  padding: 36rpx;\n  text-align: center;\n}\n</style>\n","import MiniProgramPage from 'E:/javaproject/practice-app/practice-app-ui/pages/questions/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","fetchCategories","fetchQuestions","uni","onShow","onPullDownRefresh"],"mappings":";;;;;;;;;;;;;;;;;;;;AAuDA,UAAM,aAAaA,cAAAA,IAAI,CAAC,EAAE,IAAI,IAAI,MAAM,KAAM,CAAA,CAAC;AAC/C,UAAM,mBAAmBA,cAAAA,IAAI,EAAE;AAC/B,UAAM,YAAYA,cAAAA,IAAI,CAAA,CAAE;AACxB,UAAM,UAAUA,cAAAA,IAAI,EAAE;AAEtB,UAAM,iBAAiB,YAAY;AACjC,YAAM,OAAO,MAAMC,SAAAA;AACnB,iBAAW,QAAQ,CAAC,EAAE,IAAI,IAAI,MAAM,KAAI,GAAI,GAAG,IAAI;AAAA,IACrD;AAEA,UAAM,gBAAgB,YAAY;AAChC,YAAM,OAAO,MAAMC,wBAAe;AAAA,QAChC,YAAY,iBAAiB;AAAA,QAC7B,SAAS,QAAQ;AAAA,MACrB,CAAG;AACD,gBAAU,QAAQ;AAAA,IACpB;AAEA,UAAM,iBAAiB,CAAC,OAAO;AAC7B,uBAAiB,QAAQ;AACzB;IACF;AAEA,UAAM,cAAc,MAAM;AACxB,cAAQ,QAAQ;AAChB;IACF;AAEA,UAAM,WAAW,CAAC,OAAO;AACvBC,oBAAG,MAAC,WAAW,EAAE,KAAK,8BAA8B,EAAE,GAAE,CAAE;AAAA,IAC5D;AAEA,UAAM,aAAa,CAAC,SAAS;AAC3B,UAAI,SAAS;AAAY,eAAO;AAChC,UAAI,SAAS;AAAa,eAAO;AACjC,aAAO;AAAA,IACT;AAEA,UAAM,kBAAkB,CAAC,OAAO;AAC9B,YAAM,QAAQ,WAAW,MAAM,KAAK,CAAC,MAAM,EAAE,OAAO,EAAE;AACtD,aAAO,QAAQ,MAAM,OAAO;AAAA,IAC9B;AAEAC,kBAAAA,OAAO,MAAM;AACX;AACA;IACF,CAAC;AAEDC,kBAAAA,kBAAkB,YAAY;AAC5B,YAAM,eAAc;AACpB,YAAM,cAAa;AACnBF,oBAAG,MAAC,oBAAmB;AAAA,IACzB,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1GD,GAAG,WAAW,eAAe;"}